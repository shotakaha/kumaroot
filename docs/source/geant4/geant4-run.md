# ランの構造

Geant4シミュレーションの基本コンセプトは「ラン（Run）」です。
実際の素粒子物理学分野の「実験（ラン）」の手順を、パソコンの中で再現できるようになっています。

詳細は[Run](https://geant4-userdoc.web.cern.ch/UsersGuides/ForApplicationDeveloper/html/Fundamentals/run.html)を参照してください。

## ``G4RunManager`` / ``G4MTRunManager``

ラン管理の最高責任者です。
``BeamOn(回数)``でイベントの生成＆取得を開始します。
いわばシミュレーションの中で一番偉い人です。
基本的にユーザーはこの人に指示を与えます。

## ``G4EventManager``

イベントの管理者です。
ランの中のイベント1つ（``G4Event``）について情報を持っているひとです。
そのイベントで入射した粒子の情報（粒子の種類、位置、方向、エネルギー）や、
生成された粒子ごとの飛跡（``G4Track``）の情報を持っています。

## ``G4TrackingManager``

飛跡1つ（``G4Track``）の情報を持っているひとです。
粒子が進んだステップ（``G4Step``）ごとの粒子の状態を監視していて、その粒子が崩壊するか、静止するまで監視を続けてくれます。

その粒子から二次粒子が発生した場合は、``G4StackingManager``に教えてあげて、一次粒子のトラッキングが終わったら、二次粒子に対しても同様の監視をはじめます。
生成された三次粒子、四次粒子・・・などすべての粒子がなくなるまで続けます。

