# 仮想環境したい（`venv`）

```console
# プロジェクトルートを作成する／移動する
$ mkdir -p path/to/your_project
$ cd path/to/your_project

# 仮想環境を作成する
$ python3 -m venv .venv

# 仮想環境を有効にする
$ source .venv/bin/activate
(.venv) $

# 仮想環境を無効にする
(.venv) $ deactivate
$
```

`venv`パッケージで、仮想環境を作成できます。
Python3.3以降に付属する標準モジュールです。
コマンドでは`python3 -m venv`の形でモジュールとして呼び出す必要があります。

:::{note}

**仮想環境が必要な理由：** Pythonパッケージ（ライブラリ）は通常、プロジェクトごとに異なるバージョンが必要です。システム全体にインストールすると、複数のプロジェクト間でバージョン競合が起きます。仮想環境を使うことで、各プロジェクトが独立した環境を持つことができます。

**現在の推奨方法：** 最近のPythonでは、システムグローバルにパッケージをインストールすることは非推奨です。すべてのパッケージを仮想環境にインストールする方法が推奨されています。これにより、プロジェクト間の依存関係の競合を防ぎ、環境を再現性よく管理できます。

:::

## バージョンを切り替えたい

```console
# Python3.11の仮想環境
$ python3.11 -m venv .venv
$ source .venv/bin/activate
(.venv) $ python --version
Python 3.11

# Python3.11の仮想環境
$ python3.12 -m venv .venv
$ source .venv/bin/activate
(.venv) $ python --version
Python 3.12
```

`venv`モジュールを呼び出すときに時に
`python3.11 -m venv`、
`python3.12 -m venv`、
のようにPythonの実行環境のバージョンを指定します。

:::{note}

`venv`モジュール自体には、Python実行環境の切り替え機能はありません。

最近では、これらの機能が統合された
[uvパッケージ](./python-uv.md)
を利用するのがオススメです。

:::

## 他ツールと比較したい

`venv`とその他の仮想環境・パッケージ管理ツールを比較してみました。
これからはじめるプロジェクトは`venv`か`uv`を選べば十分です。

| ツール名 | 推奨度 | 用途 | 特長 |
|---|---|---|---|
| **`venv`** | ★★★★★ | 基本的な仮想環境 | Python3.3以降の標準。シンプルで軽量。初心者向け |
| **`uv`** | ★★★★★ | 統合的なパッケージ管理 | オススメの最新ツール。`venv`と`pip`の機能を統合して高速化 |
| `poetry` | ★★★★ | パッケージ開発 | 複雑なプロジェクトやパッケージ公開時に便利 |
| `pyenv` | ★★★ | Python実行環境管理 | 複数Pythonバージョンの管理に特化。`venv`と併用 |
| `virtualenv` | ★★★ | 高度なカスタマイズ | `venv`より柔軟。現在は`uv`の方がオススメ |
| `pipenv` | ★★ | プロジェクト依存管理 | `Pipfile`を使用。開発・メンテナンスが減少傾向 |

**オススメの使い分け：**

- **初心者向け**：`venv`で仮想環境を作成し、`pip`でパッケージをインストール
- **最新推奨**：`uv`で統合的に管理（仮想環境作成からパッケージインストールまで一括）
- **複雑なプロジェクト**：`poetry`でパッケージ依存関係を厳密に管理
- **複数Pythonバージョン**：Python実行環境管理ツールで実行環境を管理し、`venv`で仮想環境を作成
