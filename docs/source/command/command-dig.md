# ドメイン情報したい（``dig``）

```console
$ dig +short ドメイン名
$ dig +short ドメイン名 レコードの種類
$ dig +short @DNSサーバー名 ドメイン名 レコードの種類
```

``dig``コマンドでドメインに関する情報を確認できます。
``+short``オプションを使って、結果だけを表示できます。

引数にはレコードの種類を指定したり、
``@DNSサーバー名``でDNSサーバーを指定したりできます。

```console
# GoogleのパブリックDNSを指定
$ dig @8.8.8.8 ドメイン名 レコードの種類
```

:::{note}

引数とオプションの位置を適当に書いても、エラーは表示されず、結果が返ってきます。
自分が調べたいことが本当に返ってきているのか、確認が必要です。

:::

## 詳細を確認したい

```console
$ dig ドメイン名
```

``+short``オプションなしで実行すると、いろいろ表示されます。

## TXTレコードを確認したい

```console
$ dig ドメイン名 -t txt
$ dig -t txt ドメイン名
$ dig txt ドメイン名
$ dig ドメイン名 TXT

```

``-t レコードの種類``オプションでレコードを指定できます。
ただ、``-t``があってもなくても、``TXT``が大文字でも小文字でも、よしなに解釈してくれるようです。

:::{hint}

もともと``dig``コマンドを使ったのは、DNSサーバーのSPFレコード設定を確認するためでした。
上記のコマンドを実行して`v=spf1`を含む行が返ってこれば、SPF設定がされているサーバーということです。
たとえば、ドメイン認証するIPv4/IPv6アドレスの範囲が設定されている場合は以下のようになります。

```console
;; ANSWER SECTION:
ドメイン名 IN TXT "v=spf1 +ip4:IPv4の範囲 +ip6:IPv6の範囲 ~all"
```

:::
