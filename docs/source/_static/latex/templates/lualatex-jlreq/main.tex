\documentclass[
    article,
    head_space=25truemm,
    foot_space=10truemm,
    gutter=15truemm]{jlreq}

%% 和文フォントの設定
\usepackage[haranoaji,deluxe]{luatexja-preset}
\setmonofont{MoralerSpaceKrypton}
\setmonojfont{MoralerSpaceKrypton}

%% ページ設定
\usepackage[showframe]{geometry}
\geometry{
    headheight=6\zw,
}

%% ヘッダー／フッターの装飾
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead[L]{テンプレート}
\fancyhead[C]{作成日：2023/06/11}
\fancyhead[R]{\includegraphics[height=5\zw]{../../../quma.jpeg}}
\fancyfoot[L]{CC-BY-4.0}
\fancyfoot[C]{©️ KumaROOT / Shota Takahashi}
\fancyfoot[R]{\thepage}

%% 見出しの設定
%\usepackage{titlesec}
%\titleformat{\section}{}{\Large\bfseries}{\thesection}{1em}

% 箇条書き
\input{preamble/enumitem.tex}
\input{preamble/markdown.tex}

%% 図版の設定
\usepackage{graphicx}
\usepackage[dvipsnames]{xcolor}
\input{preamble/minted.tex}

%% 参考文献
\usepackage{biblatex}
\addbibresource{参考文献.bib}

\usepackage[italic]{hepnames}

%% 本番では削除
\usepackage[japanese]{layout}
\usepackage{bxjalipsum}

\usepackage{hyperref}
\hypersetup{
    unicode=true
}

%% 表紙の設定
\title{LuaLaTeX + jlreq}

\author{
    すごい著者 \thanks{すごい大学} \\ \and
    これまたすごい著者 \thanks{こっちの研究所} \\ \and
    またまたすごい著者 \thanks{あっちの研究所}
}
\date{\today}


% 本文ここから
\begin{document}

% 表紙を出力
\maketitle

% 概要
\begin{abstract}
エンジンにLuaLaTeX、ドキュメントクラスにjlreqを使ったサンプルです。
CTANで公開されているパッケージのみを使用し、独自パッケージなどは使わないつもりです。
このソースをそのままLaTeXファイルに保存してコンパイルすればPDFができるはずです。
\end{abstract}

\tableofcontents

\section{ドキュメントクラスの設定}

\subsection{jlreqの設定}

\begin{markdown}
```latex'''
\documentclass[
    article,
    head_space=25truemm,
    foot_space=15truemm,
    gutter=15truemm]{jlreq}
```
\end{markdown}

\begin{markdown}
1. ドキュメントクラスは`jlreq`を選択した
1. `article`モードを設定した
1. 天、地、ノドの余白を設定した
\end{markdown}


\section{ページ設定}

\subsection{フォントの設定}

\subsection{geometryの設定}

\subsection{markdownの設定}

\inputminted{latex}{preamble/markdown.tex}

\begin{markdown}
`definitionLists=true`
: `description`環境を有効にした

`gfmAutoIdentifiers=true`
: GitHub Flavored Markdown の自動検出を有効にした

`strikeThrough=true`
: ~~打ち消し線~~を有効にした
\end{markdown}

\subsection{fancyhdrの設定}


\section{見出しの設定}

\begin{minted}{latex}
    \usepackage{titlesec}
\end{minted}

\jalipsum{jugemu}

\subsection{項}

\jalipsum{iroha}

\subsubsection{目}

\jalipsum{jugemu}

\paragraph{段落}

\jalipsum{iroha}

\subparagraph{小段落}

\jalipsum{jugemu}


\section{箇条書き}

\subsection{enumitemの設定}

\inputminted{latex}{./preamble/enumitem.tex}

\begin{markdown}
`labelindent=1em`
: テキスト領域の左端からラベルまでの余白を1文字分に設定した

`leftmargin=*`
: テキスト領域の左端から本文までの余白を`*`（たぶん自動？）に設定した

`rightmargin=2em`
: テキスト領域の右端から本文までの余白を2文字分に設定した。右端いっぱいまで文字を埋めるよりきれいに見える気がする。`*`を設定したらコンパイルエラーになった

`labelsep=1em`
: ラベルと本文のアキを1文字分に設定した

`itemindent=2em`
: `description`環境で、本文を折り返したときに2文字分のぶら下げを設定した

`font=\ttfamily\bfseries`
: `description`環境のラベルをモノスペース体に変更した。フォントは`\setmonofont{}`と`\setmonojfont{}`で設定した
\end{markdown}

\subsection{出力例}

\subsubsection{itemize}

\begin{minted}{latex}
\begin{itemize}
    \item \jalipsum{iroha}
    \item \jalipsum{jugemu}
    \item \jalipsum{iroha}
    \item \jalipsum{jugemu}
\end{itemize}
\end{minted}

\begin{itemize}
    \item \jalipsum{iroha}
    \item \jalipsum{jugemu}
    \item \jalipsum{iroha}
    \item \jalipsum{jugemu}
\end{itemize}

\paragraph{markdown環境}

\begin{markdown}
```latex
- \jalipsum{iroha}
- \jalipsum{jugemu}
- \jalipsum{iroha}
- \jalipsum{jugemu}
```
\end{markdown}

\begin{markdown}
- \jalipsum{iroha}
- \jalipsum{jugemu}
- \jalipsum{iroha}
- \jalipsum{jugemu}
\end{markdown}

\subsubsection{enumerate}

\begin{minted}{latex}
\begin{enumerate}
    \item \jalipsum{iroha}
    \item \jalipsum{jugemu}
    \item \jalipsum{iroha}
    \item \jalipsum{jugemu}
\end{enumerate}
\end{minted}

\begin{enumerate}
    \item \jalipsum{iroha}
    \item \jalipsum{jugemu}
    \item \jalipsum{iroha}
    \item \jalipsum{jugemu}
\end{enumerate}

\paragraph{markdown環境}

\begin{markdown}
```latex
1. \jalipsum{iroha}
1. \jalipsum{jugemu}
1. \jalipsum{iroha}
1. \jalipsum{jugemu}
```
\end{markdown}

\begin{markdown}
1. \jalipsum{iroha}
1. \jalipsum{jugemu}
1. \jalipsum{iroha}
1. \jalipsum{jugemu}
\end{markdown}


\subsubsection{description}

\begin{minted}{latex}
\begin{description}
    \item[いろは唄] \jalipsum{iroha}
    \item[寿限無] \jalipsum{jugemu}
    \item[いろは唄] \jalipsum{iroha}
    \item[寿限無] \jalipsum{jugemu}
\end{description}
\end{minted}

\begin{description}
    \item[いろは唄] \jalipsum{iroha}
    \item[寿限無] \jalipsum{jugemu}
    \item[いろは唄] \jalipsum{iroha}
    \item[初恋] \jalipsum{hatsukoi}
\end{description}

\paragraph{markdown環境}

\begin{markdown}
```latex
いろは唄
: \jalipsum{iroha}

寿限無
: \jalipsum{jugemu}

いろは唄
: \jalipsum{iroha}

初恋
: \jalipsum{hatsukoi}
```
\end{markdown}

\begin{markdown}
いろは唄
: \jalipsum{iroha}

寿限無
: \jalipsum{jugemu}

いろは唄
: \jalipsum{iroha}

初恋
: \jalipsum{hatsukoi}
\end{markdown}

\section{図の挿入}

\subsection{graphicxの設定}

\subsection{captionの設定}

\subsection{subcaptionの設定}

\section{表の挿入}

\subsection{tabularrayの設定}

\subsection{出力例}

\section{コードブロック}

\subsection{mintedの設定}

\inputminted{latex}{preamble/minted.tex}

\begin{markdown}
`fontfamily=tt` / `fontseries=upright`
: コード内のフォント（とくにコメント）をモノスペース体／立体に変更した

`frame=leftline`
: コードブロックの左端に実践を追加した

`linenos=true`
: 行番号を表示した

`bgcolor=black!10`
: 背景色を設定した（黒10パーセント）

`bgcolorpadding=1em`
: 背景のパディング（内側の余白）を1文字分に設定した
\end{markdown}


\section{相互参照}

\subsection{hyperrefの設定}

\subsection{cleverefの設定}


\section{例文の設定}

\begin{minted}{latex}
    \usepackage{bxjalipsum}
\end{minted}

\subsection{いろは唄}

\begin{minted}{latex}
    \jalipsum{iroha}
\end{minted}
\jalipsum{iroha}

\subsection{寿限無}

\begin{minted}{latex}
    \jalipsum{jugemu}
\end{minted}
\jalipsum{jugemu}

\subsection{初恋}

\begin{minted}{latex}
    \jalipsum{hatsukoi}
\end{minted}
\jalipsum{hatsukoi}

\section{素粒子の名前}

\begin{markdown}
```latex
\usepackage[italic]{hepnames}
```
\end{markdown}

\subsection{B中間子}

\begin{markdown}
- $\PB$ / $\APB$
\end{markdown}

%% レイアウトを確認
\section{レイアウト}

\begin{minted}{latex}
    \usepackage[japanese]{layout}
\end{minted}

\centering
\layout

%% 参考文献を出力
\printbibliography[title={参考文献}]

\end{document}
